
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Django curd project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <style type="text/css">
      form.form{

        height: 10%;
        width: 30%;
        border: ;
        display: inline-block;
      }
      #cut{
        color: red;
      }
      #offcanvasTop{
        margin-left: 20%;
        height: 60%;
        width: 40%;
        border-radius: 5%;
        background: rgba(0, 0, 0, 0.7);
        color: rgb(0, 200, 0);
      }
      #offcanvasBottom{
        margin-left: 35%;
        height: 30%;
        width: 40%;
        background: rgba(220, 220, 220, 0.7);
        color:black;
        bottom: 40%;
      }
      *{
        background: ;
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }
      span.inline{
        border: ;
        display:inline-block;
      }
     
     /* th td{
        border: solid 2px white;
        width: 20%;
      }

      tr td{
        border: solid 2px white;
        width: 20%;
      }*/
    </style>
  </head>
  <body>


<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js">
  </script>


    <script type="text/javascript">
      function fun() { var a= swal({
  title: "success",
  text: "The data is added successfully !",
  icon: "success",
  
});
   }
</script>


<!---home page -->


    <!---adding data in form  -->

    <div class="curd">
     <div class="alert alert-success" role="alert">
   <h3>hello friends , this is a simple model_form curd oparetion</h3>



  <form  style="margin-left: 79%; " class="card text-center" method="POST" action="{% url 'search' %}">
    {% csrf_token %}
    <div class="input-group">
    
  <input type="text"  class="form-control" placeholder="Enter the searching Name"  aria-describedby="button-addon2" name="search">

  <button class="btn btn-outline-primary" type="submit" id="button-addon2">üîç</button></div>
</form>


  </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>



   



    <form method="POST" action="{% url 'add'%}" class="col-sm-3 mx-auto" >


       {% block error %}
    {% endblock%}

		{% csrf_token %}
     <div class="input-group mb-3" aria-label="Small button group">
  <span class="input-group-text">Name</span>
  <div class="form-floating">
    {{form.name}}
    <label for="floatingInputGroup1">Enter your Name</label>
  </div>
</div>

<div class="input-group mb-3">
  <span class="input-group-text">Email</span>
  <div class="form-floating">
    {{form.email}}
    <label for="floatingInputGroup1">Enter Email id</label>
  </div>
</div>

<div class="input-group mb-3">
  <span class="input-group-text">Phone</span>
  <div class="form-floating">
   {{form.phone}}
    <label for="floatingInputGroup1">Enter Phone number</label>
  </div>
</div>

<div class="input-group mb-3">
  <span class="input-group-text">College</span>
  <div class="form-floating">
    {{form.college}}
    <label for="floatingInputGroup1"> Enter your College Name</label>
  </div>
</div>

    
    <button type="submit" class="btn btn-info" onclick="">save</button>
      <button type="reset" class="btn btn-info" >reset</button>
    </form>
  </div>
</div>
  </div>
    </form>

</div>




<!---display data in home page -->

<div class="card"> 
    <div class="card text-center">
  <div  class="alert alert-primary" role="alert">
   <h3> Display Data</h3>
<div  class="text-end">
<!---add new data with pop up box-->
 <button  class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop" aria-controls="offcanvasTop">Add New Data</button> </div>

<div class="offcanvas offcanvas-top" tabindex="-1"  id="offcanvasTop" aria-labelledby="offcanvasTopLabel" style="top: 40px; width: 40%; height:83%;">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasTopLabel">Add data</h5>
    <button id="cut" type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
     
     <form method="POST" action="{% url 'add'%}" class="col-sm-6 mx-auto" >
        {% csrf_token %}

     
    <div class="input-group mb-3">
  <span class="input-group-text">üßë‚Äçüíº</span>
  <div class="form-floating">
    {{form.name}}
    <label for="floatingInputGroup1">Name</label>
  </div>
</div>

<div class="input-group mb-3">
  <span class="input-group-text">üì©</span>
  <div class="form-floating">
    {{form.email}}
    <label for="floatingInputGroup1">Email</label>
  </div>
</div>

<div class="input-group mb-3">
  <span class="input-group-text">üìû</span>
  <div class="form-floating">
   {{form.phone}}
    <label for="floatingInputGroup1">Phone</label>
  </div>
</div>

<div class="input-group mb-3">
  <span class="input-group-text">üè¢</span>
  <div class="form-floating">
    {{form.college}}
    <label for="floatingInputGroup1">College</label>
  </div>
</div>

    
    <button type="submit" class="btn btn-info" onclick="">save</button>
      <button type="reset" class="btn btn-info" >reset</button>
    </form>
  </div>


 <script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
 <div class="text-center">
<lord-icon
    src="https://cdn.lordicon.com/flvisirw.json"
    trigger="loop"
    colors="primary:#646e78,secondary:#4bb3fd,tertiary:#ebe6ef"
    style="width:200px;height:200px">
</lord-icon>
</div>

</div>
  </div>




 {% block show%}
      
  <div class="card-body">

     <table border="" class="table table-dark table-striped">
        
        <th align="text-center">
          <td ><b>ID</b></td>
          <td ><b>Name</b></td>
          <td ><b>Email</b></td>
          <td ><b>Phone</b></td>
          <td><b>college</b></td>
          <td><b>options</b></td>
        </th>

       
          {% for i in data %} 
        <tr>
            <td></td>
            <td>{{ i.id}}</td>
            <td>{{ i.name }}</td>
            <td>{{i.email}}</td>
            <td>{{i.phone}}</td>
            <td>{{i.college}}</td>
            <td>



   <!---Update data in form -->
             
              

              <span class="inline">
              <form  method="POST" action="{% url 'edit' i.id%}">
                {% csrf_token %}
                
            
                  <button class="btn btn-outline-none" type="submit" >‚úèÔ∏è</button>
             </form></span>

              
   <!---delete the  record using specific id-->
               
               <span class="inline">

               <button class="btn btn-outline-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasBottom" aria-controls="offcanvasBottom">‚ùå</button>

                 <div class="offcanvas offcanvas-bottom" tabindex="-1" id="offcanvasBottom" aria-labelledby="offcanvasBottomLabel">
                <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasBottomLabel">Delete Data</h5>
               <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                  <div class="offcanvas-body small">
                    
                   <h3><b>Are you sure to Delete Record ‚ùì</b></h3>
                     <form class="form" method="POST" action="{% url 'delete' i.id %}" onsubmit="">
                 {% csrf_token %}
                
       
              <button id="option" name="delete"  type="submit" class="btn btn-outline-dark" style="margin-top: 10%;" onclick=""><b>Yes</b></button>
             
            </form>  

               <form  method="POST" action="{% url 'show' %}" onsubmit="" class="form">
                 {% csrf_token %}
                
       
              <button id="option" name="no"  type="submit" class="btn btn-outline-dark" style="margin-top: 10%;" onclick=""><b>No</b></button>
             
            </form>  

                  </span>

                  </div>
                 </div>
          



            </td>
          </tr>
            {% endfor %}
       
        
      </table>

   

  </div>

  {% endblock %}
  <div class="card-footer text-muted">
    

{% block page%}
<!--- pagination sectore-->

<nav aria-label="Page navigation example " style="">
   {% if s > 0 %}
  <div> Total Record <b> {{s}} </b>  and total page  <b>{{p}} </b> </div>

  <div style="margin-left:80%">
  <ul class="pagination">
    {% if data.has_previous%}
    <li class="page-item"><a class="page-link" href="/?page={{ data.previous_page_number}}">Previous</a></li>
    {%endif %}
   <!--- 

   <li class="page-item"><a class="page-link" href="/show/?page=1">1</a></li>
    <li class="page-item"><a class="page-link" href="/show/?page=2">2</a></li>
    <li class="page-item"><a class="page-link" href="/show/?page=3">3</a></li>  

  -->

    {% if data.has_next %}
    <li class="page-item"><a class="page-link" href="/?page={{ data.next_page_number}}">Next</a></li>
    {% endif %}
  </ul>
</div>
{% else %}

<div class="alert alert-danger d-flex align-items-center " role="alert">
  <div style="margin-left:45%">
    <b>‚ö†  Record not found</b>
  </div>
</div>

{% endif %}

</nav>

{%endblock%}

  </div>
</div>

    <div class="col-sm-5">
     <table class="table table-dark table-hover">
  
</table>
    </div>


  </div>


  </body>

</html>